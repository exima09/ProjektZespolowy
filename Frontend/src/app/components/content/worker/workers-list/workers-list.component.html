<app-site-header [childMessage]="headerOfSite"></app-site-header>
<div *ngFor="let worker of workers">
  <article class="post">
    <header>
      <h2 class="post_title">{{worker.user.firstName}} {{worker.user.lastName}}</h2>
    </header>
    <img class="post_img" src="assets/images/nico.jpg">
    <div class="post_text">
      <p>Wynagrodzenie: {{worker.salary}} zł</p>
      <p>Premia: {{worker.bonus}} zł</p>
      <p>Data zatrudnienia: {{worker.dateFrom.substring(0,10)}}</p>
    </div>
    <footer class="post_date">
      <!-- <button mat-button *ngIf="!worker.dateTo" (click)="finishWork(worker.id)">Zwolnij pracownika</button> -->
      <button mat-button *ngIf="!worker.dateTo" nz-popconfirm
        nzTitle="Czy na pewno chcesz zwolnić pracownika?"
        nzOkText="Zatwierdź"
        nzCancelText="Anuluj"
        nzOkType="danger"
        (nzOnConfirm)="finishWork(worker.id)"
        nzPlacement="top">
        Zwolnij pracownika
      </button>
      <button mat-button [routerLink]="['/worker/salary-management/', worker.id]">Zarządzaj wynagrodzeniem</button>
      <button mat-button [routerLink]="['/worker/', worker.id]">Szczegóły</button>
    </footer>
  </article>
</div>
<header>
  <app-site-header [childMessage]="headerOfSite"></app-site-header>
</header>
<div class="container-fluid">
  <div class="row mt-5">
    <div class="col-md-8 offset-md-4 mt-5 form-background">
      <form #form="ngForm" (submit)="onSubmit(form)" autocomplete="off">
        <div class="form-group">
          <label>Wybierz użytkownika</label>
          <select name="userId" #userId="ngModel" ngModel class="form-control" required>
            <option value="" selected disabled>Wybierz użytkownika</option>
            <option *ngFor="let user of users" [value]="user.id">
              {{user.firstName}} {{user.lastName}}, login: {{user.username}}
            </option>
          </select>
          <div class="validation-error" *ngIf="userId.invalid  && userId.touched">To pole jest wymagane.</div>
        </div>
        <div class="form-group" *ngIf="allRoles.length>0">
          <label>Dostępne role</label>
          <div *ngFor="let role of allRoles">
            <mat-checkbox (click)=addRole(role.value) value="role.value">{{role.key}}</mat-checkbox>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-block btn-lg text-white submit" type="submit"
            [disabled]="form.invalid || roles.length<1">
            Przydziel zaznaczone role
          </button>
        </div>
      </form>
    </div>
  </div>
</div>